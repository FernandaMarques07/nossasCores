<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil</title>
    <link rel="stylesheet" href="/assets/styles/principal.css">
    <link rel="stylesheet" href="/assets/styles/perfil.css">
</head>
<body>
    <nav>
        <div class="logo">
            <a href="/principal"><img src="/assets/images/logo.png" alt="Minha Loja" class="logo-img"></a>
        </div>
        <ul class="menu">
            <li><a href="/carrinho"><img src="/assets/images/carrinho.png" alt="carrinho" class="carrinho"></a></li>
        </ul>
    </nav>

    <section class="frase">
    </section>
    
    <section class="perfil">
        <img src="/assets/images/perfil.png" alt="Imagem do perfil">
    </section>

    <div class="confirmation-container">
        <div class="data-group">
            <div class="data-item">
                <span class="data-label">Nome:</span>
                <div class="data-value"><%= usuario.nome %></div>
            </div>
        </div>

        <div class="data-group">
            <div class="data-item">
                <span class="data-label">E-mail:</span>
                <div class="data-value"><%= usuario.email %></div>
            </div>
        </div>

        <div class="data-group">
            <div class="data-item">
                <span class="data-label">Telefone:</span>
                <div class="data-value" id="telefone"><%= usuario.telefone %></div>
            </div>
        </div>

        <div class="data-group">
            <div class="data-item">
                <span class="data-label">Endereço:</span>
                <div class="data-value"><%= usuario.endereco %></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const telefoneElement = document.getElementById("telefone");
            const telefone = telefoneElement.textContent.trim();

            // Função para formatar o telefone no formato (xx) xxxxx-xxxx
            function formatarTelefone(telefone) {
                return telefone.replace(/\D/g, '') // Remove qualquer caractere não numérico
                               .replace(/^(\d{2})(\d{5})(\d{4})$/, '($1) $2-$3'); // Aplica o formato
            }

            // Verifica se o telefone existe e aplica a formatação
            if (telefone) {
                telefoneElement.textContent = formatarTelefone(telefone);
            }
        });
    </script>
</body>
</html>
